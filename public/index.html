<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="//cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css">
  <title>Document</title>
</head>
<body>
  <div class="container">
    <form name="myform">
      <input name="text" type="text">
      <button name="btn">送信</button>
    </form>
    <hr>
    <ul id="message"></ul>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.1/socket.io.js"></script>
  <script>
var socket = io();
var message = document.getElementById('message');
var form = document.forms.myform;
form.btn.addEventListener('click', (e) => {
  e.preventDefault();
  socket.emit('chat', form.text.value);
  form.text.value = '';
});
socket.on('chat', (msg) => {
  var li = document.createElement('li');
  li.textContent = msg;
  message.appendChild(li);
});
  </script>
</body>
</html>
